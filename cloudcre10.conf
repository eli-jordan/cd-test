
staging = {
  id = tapad-paas-eli-operator-test
  branch = cc10-staging
  dir = ./environments/staging
  trigger {
    type = nexus
    group = "com.tapad.eli"
    artifact = "eli-test"
    modify {
      file = ./environments/version.conf
      path = "versions.bundle"
    }
  }

  requirements = [
    {
      type = deploy
      trigger = auto
    }
  ]
}

production = {
  id = tapad-paas-atlantis-poc-prd
  branch = cc10-production
  dir = ./environments/production
  trigger {
     type = merge-into
     branch = cc10-staging
  }

  requirements = [
     {
        type = deploy
        trigger = manual-approval
     }
  ]
}

environments = [
  ${staging}
  ${production}
]